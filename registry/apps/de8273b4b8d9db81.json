{
  "hash": "de8273b4b8d9db81",
  "prompt": "a notepad with find and replace, line numbers, and file management",
  "normalizedPrompt": "notepad text editor",
  "title": "Notepad",
  "type": "iframe",
  "code": "<!-- capabilities: [\"ui:window\", \"storage:local\", \"clipboard:rw\"] -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<title>Notepad</title>\n<style>\n  * { box-sizing: border-box; margin: 0; padding: 0; }\n  html, body {\n    background: #0d0d1a;\n    color: #e0e0f0;\n    font-family: 'Segoe UI', system-ui, sans-serif;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  /* Menu bar */\n  .menubar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 32px;\n    background: #141428;\n    border-bottom: 1px solid #2a2a4a;\n    display: flex;\n    align-items: center;\n    padding: 0 4px;\n    gap: 2px;\n    font-size: 13px;\n    z-index: 50;\n  }\n  .menu-item {\n    padding: 4px 10px;\n    border-radius: 4px;\n    cursor: pointer;\n    color: #b0b0cc;\n    position: relative;\n    user-select: none;\n  }\n  .menu-item:hover { background: #1e1e3a; color: #e0e0f0; }\n  .menu-item.active { background: #2a2a4a; color: #e0e0f0; }\n\n  /* Dropdown */\n  .dropdown {\n    display: none;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    background: #1a1a2e;\n    border: 1px solid #2a2a4a;\n    border-radius: 6px;\n    min-width: 200px;\n    padding: 4px 0;\n    z-index: 100;\n    box-shadow: 0 8px 24px rgba(0,0,0,0.5);\n  }\n  .dropdown.open { display: block; }\n  .dropdown-item {\n    padding: 7px 16px;\n    cursor: pointer;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 13px;\n    color: #c0c0dd;\n  }\n  .dropdown-item:hover { background: #6c63ff33; color: #e0e0f0; }\n  .dropdown-item .shortcut { color: #555577; font-size: 11px; font-family: monospace; }\n  .dropdown-sep { height: 1px; background: #2a2a4a; margin: 4px 0; }\n\n  /* Toolbar */\n  .toolbar {\n    position: fixed;\n    top: 32px;\n    left: 0;\n    right: 0;\n    height: 36px;\n    background: #121225;\n    border-bottom: 1px solid #2a2a4a;\n    display: flex;\n    align-items: center;\n    padding: 0 8px;\n    gap: 6px;\n    z-index: 40;\n  }\n  .tool-btn {\n    background: none;\n    border: 1px solid transparent;\n    border-radius: 4px;\n    color: #8888aa;\n    font-size: 12px;\n    padding: 4px 8px;\n    cursor: pointer;\n    font-family: monospace;\n  }\n  .tool-btn:hover { background: #1e1e3a; border-color: #2a2a4a; color: #c0c0dd; }\n  .tool-sep { width: 1px; height: 20px; background: #2a2a4a; }\n  .font-select {\n    background: #0f0f1e;\n    border: 1px solid #2a2a4a;\n    border-radius: 4px;\n    color: #c0c0dd;\n    font-size: 12px;\n    padding: 3px 6px;\n    outline: none;\n  }\n  .font-select:focus { border-color: #6c63ff; }\n  .size-input {\n    background: #0f0f1e;\n    border: 1px solid #2a2a4a;\n    border-radius: 4px;\n    color: #c0c0dd;\n    font-size: 12px;\n    padding: 3px 6px;\n    width: 44px;\n    outline: none;\n    text-align: center;\n  }\n  .size-input:focus { border-color: #6c63ff; }\n\n  /* Editor */\n  .editor-wrap {\n    position: fixed;\n    top: 68px;\n    left: 0;\n    right: 0;\n    bottom: 26px;\n    display: flex;\n    overflow: hidden;\n  }\n  .line-numbers {\n    width: 48px;\n    background: #0f0f1e;\n    border-right: 1px solid #2a2a4a;\n    padding: 12px 0;\n    text-align: right;\n    font-family: 'Cascadia Code', 'Fira Code', monospace;\n    font-size: 14px;\n    line-height: 1.6;\n    color: #444466;\n    overflow: hidden;\n    flex-shrink: 0;\n    user-select: none;\n  }\n  .line-numbers div { padding-right: 10px; }\n  #editor {\n    flex: 1;\n    background: #0d0d1a;\n    color: #e0e0f0;\n    border: none;\n    outline: none;\n    resize: none;\n    padding: 12px 16px;\n    font-family: 'Cascadia Code', 'Fira Code', monospace;\n    font-size: 14px;\n    line-height: 1.6;\n    tab-size: 4;\n    white-space: pre;\n    overflow: auto;\n  }\n  #editor::selection { background: #6c63ff44; }\n\n  /* Status bar */\n  .statusbar {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 26px;\n    background: #141428;\n    border-top: 1px solid #2a2a4a;\n    display: flex;\n    align-items: center;\n    padding: 0 12px;\n    font-size: 11px;\n    font-family: monospace;\n    color: #555577;\n    gap: 16px;\n    z-index: 40;\n  }\n  .statusbar .modified { color: #ffa502; }\n  .statusbar .spacer { flex: 1; }\n\n  /* Find bar */\n  .findbar {\n    display: none;\n    position: fixed;\n    top: 68px;\n    left: 0;\n    right: 0;\n    height: 40px;\n    background: #141428;\n    border-bottom: 1px solid #2a2a4a;\n    padding: 0 12px;\n    align-items: center;\n    gap: 8px;\n    z-index: 45;\n  }\n  .findbar.open { display: flex; }\n  .findbar input {\n    background: #0f0f1e;\n    border: 1px solid #2a2a4a;\n    border-radius: 4px;\n    color: #e0e0f0;\n    padding: 5px 10px;\n    font-size: 13px;\n    outline: none;\n    width: 240px;\n  }\n  .findbar input:focus { border-color: #6c63ff; }\n  .findbar button {\n    background: #1e1e3a;\n    border: 1px solid #2a2a4a;\n    border-radius: 4px;\n    color: #b0b0cc;\n    padding: 5px 10px;\n    font-size: 12px;\n    cursor: pointer;\n  }\n  .findbar button:hover { background: #2a2a4a; color: #e0e0f0; }\n  .findbar .match-count { color: #6c63ff; font-size: 12px; font-family: monospace; min-width: 60px; }\n  .findbar .close-find {\n    background: none;\n    border: none;\n    color: #555577;\n    font-size: 18px;\n    cursor: pointer;\n    padding: 0 4px;\n    margin-left: auto;\n  }\n  .findbar .close-find:hover { color: #ff4757; }\n</style>\n</head>\n<body>\n\n<!-- Menu Bar -->\n<div class=\"menubar\">\n  <div class=\"menu-item\" id=\"menu-file\" onclick=\"toggleMenu('file')\">\n    File\n    <div class=\"dropdown\" id=\"drop-file\">\n      <div class=\"dropdown-item\" onclick=\"newFile()\">New <span class=\"shortcut\">Ctrl+N</span></div>\n      <div class=\"dropdown-sep\"></div>\n      <div class=\"dropdown-item\" onclick=\"saveFile()\">Save <span class=\"shortcut\">Ctrl+S</span></div>\n      <div class=\"dropdown-item\" onclick=\"saveAs()\">Save As... <span class=\"shortcut\">Ctrl+Shift+S</span></div>\n      <div class=\"dropdown-sep\"></div>\n      <div class=\"dropdown-item\" onclick=\"loadFile()\">Open... <span class=\"shortcut\">Ctrl+O</span></div>\n    </div>\n  </div>\n  <div class=\"menu-item\" id=\"menu-edit\" onclick=\"toggleMenu('edit')\">\n    Edit\n    <div class=\"dropdown\" id=\"drop-edit\">\n      <div class=\"dropdown-item\" onclick=\"doUndo()\">Undo <span class=\"shortcut\">Ctrl+Z</span></div>\n      <div class=\"dropdown-item\" onclick=\"doRedo()\">Redo <span class=\"shortcut\">Ctrl+Y</span></div>\n      <div class=\"dropdown-sep\"></div>\n      <div class=\"dropdown-item\" onclick=\"doCut()\">Cut <span class=\"shortcut\">Ctrl+X</span></div>\n      <div class=\"dropdown-item\" onclick=\"doCopy()\">Copy <span class=\"shortcut\">Ctrl+C</span></div>\n      <div class=\"dropdown-item\" onclick=\"doPaste()\">Paste <span class=\"shortcut\">Ctrl+V</span></div>\n      <div class=\"dropdown-sep\"></div>\n      <div class=\"dropdown-item\" onclick=\"selectAll()\">Select All <span class=\"shortcut\">Ctrl+A</span></div>\n    </div>\n  </div>\n  <div class=\"menu-item\" onclick=\"toggleFind()\">Find</div>\n  <div class=\"menu-item\" onclick=\"toggleWordWrap()\">Word Wrap</div>\n</div>\n\n<!-- Toolbar -->\n<div class=\"toolbar\">\n  <select class=\"font-select\" id=\"fontFamily\" onchange=\"changeFont()\">\n    <option value=\"'Cascadia Code', 'Fira Code', monospace\">Cascadia Code</option>\n    <option value=\"'Consolas', monospace\">Consolas</option>\n    <option value=\"'Courier New', monospace\">Courier New</option>\n    <option value=\"'Segoe UI', sans-serif\">Segoe UI</option>\n    <option value=\"'Arial', sans-serif\">Arial</option>\n  </select>\n  <input type=\"number\" class=\"size-input\" id=\"fontSize\" value=\"14\" min=\"8\" max=\"36\" onchange=\"changeFontSize()\">\n  <div class=\"tool-sep\"></div>\n  <button class=\"tool-btn\" onclick=\"toggleLineNumbers()\" title=\"Toggle line numbers\">#</button>\n  <button class=\"tool-btn\" onclick=\"toggleWordWrap()\" title=\"Toggle word wrap\">&#x21A9;</button>\n</div>\n\n<!-- Find Bar -->\n<div class=\"findbar\" id=\"findbar\">\n  <input type=\"text\" id=\"findInput\" placeholder=\"Find...\" oninput=\"doFind()\">\n  <button onclick=\"findPrev()\">&uarr;</button>\n  <button onclick=\"findNext()\">&darr;</button>\n  <span class=\"match-count\" id=\"matchCount\"></span>\n  <input type=\"text\" id=\"replaceInput\" placeholder=\"Replace...\">\n  <button onclick=\"doReplace()\">Replace</button>\n  <button onclick=\"doReplaceAll()\">All</button>\n  <button class=\"close-find\" onclick=\"toggleFind()\">&times;</button>\n</div>\n\n<!-- Editor -->\n<div class=\"editor-wrap\">\n  <div class=\"line-numbers\" id=\"lineNums\"></div>\n  <textarea id=\"editor\" spellcheck=\"false\" placeholder=\"Start typing...\"></textarea>\n</div>\n\n<!-- Status Bar -->\n<div class=\"statusbar\">\n  <span id=\"fileLabel\">Untitled</span>\n  <span id=\"modifiedFlag\"></span>\n  <span class=\"spacer\"></span>\n  <span id=\"cursorPos\">Ln 1, Col 1</span>\n  <span id=\"charCount\">0 chars</span>\n  <span id=\"lineCount\">1 line</span>\n  <span>UTF-8</span>\n</div>\n\n<script>\n  const editor = document.getElementById('editor');\n  const lineNums = document.getElementById('lineNums');\n  const fileLabelEl = document.getElementById('fileLabel');\n  const modifiedEl = document.getElementById('modifiedFlag');\n  const cursorPosEl = document.getElementById('cursorPos');\n  const charCountEl = document.getElementById('charCount');\n  const lineCountEl = document.getElementById('lineCount');\n\n  let fileName = 'Untitled';\n  let savedContent = '';\n  let modified = false;\n  let showLineNums = true;\n  let wordWrap = false;\n  let openMenu = null;\n  let findMatches = [];\n  let findIndex = -1;\n\n  // --- Line Numbers ---\n  function updateLineNumbers() {\n    const lines = editor.value.split('\\n').length;\n    let html = '';\n    for (let i = 1; i <= lines; i++) html += `<div>${i}</div>`;\n    lineNums.innerHTML = html;\n    lineNums.scrollTop = editor.scrollTop;\n  }\n\n  // --- Status Bar ---\n  function updateStatus() {\n    const val = editor.value;\n    const pos = editor.selectionStart;\n    const before = val.substring(0, pos);\n    const line = before.split('\\n').length;\n    const col = pos - before.lastIndexOf('\\n');\n    cursorPosEl.textContent = `Ln ${line}, Col ${col}`;\n    charCountEl.textContent = `${val.length} chars`;\n    lineCountEl.textContent = `${val.split('\\n').length} lines`;\n\n    const isModified = val !== savedContent;\n    if (isModified !== modified) {\n      modified = isModified;\n      modifiedEl.textContent = modified ? '(modified)' : '';\n      modifiedEl.className = modified ? 'modified' : '';\n    }\n  }\n\n  // --- File Operations ---\n  function newFile() {\n    if (modified && !confirm('Discard unsaved changes?')) return;\n    editor.value = '';\n    savedContent = '';\n    fileName = 'Untitled';\n    fileLabelEl.textContent = fileName;\n    modified = false;\n    modifiedEl.textContent = '';\n    updateLineNumbers();\n    updateStatus();\n    closeMenus();\n  }\n\n  async function saveFile() {\n    savedContent = editor.value;\n    modified = false;\n    modifiedEl.textContent = '';\n    try {\n      await LLMOS.storage.set('notepad_file_' + fileName, editor.value);\n      await LLMOS.storage.set('notepad_filename', fileName);\n    } catch (e) { /* storage may not be available */ }\n    closeMenus();\n  }\n\n  async function saveAs() {\n    const name = prompt('File name:', fileName);\n    if (!name) return;\n    fileName = name;\n    fileLabelEl.textContent = fileName;\n    await saveFile();\n  }\n\n  async function loadFile() {\n    const name = prompt('File name to open:', fileName);\n    if (!name) return;\n    try {\n      const content = await LLMOS.storage.get('notepad_file_' + name);\n      if (content !== null && content !== undefined) {\n        editor.value = content;\n        savedContent = content;\n        fileName = name;\n        fileLabelEl.textContent = fileName;\n        modified = false;\n        modifiedEl.textContent = '';\n        updateLineNumbers();\n        updateStatus();\n      } else {\n        alert('File not found: ' + name);\n      }\n    } catch (e) {\n      alert('Could not load file');\n    }\n    closeMenus();\n  }\n\n  // --- Edit Operations ---\n  function doUndo() { document.execCommand('undo'); closeMenus(); }\n  function doRedo() { document.execCommand('redo'); closeMenus(); }\n  function doCut() { document.execCommand('cut'); closeMenus(); }\n  function doCopy() { document.execCommand('copy'); closeMenus(); }\n  function doPaste() { navigator.clipboard.readText().then(t => { document.execCommand('insertText', false, t); }); closeMenus(); }\n  function selectAll() { editor.select(); closeMenus(); }\n\n  // --- Menus ---\n  function toggleMenu(name) {\n    const drop = document.getElementById('drop-' + name);\n    const item = document.getElementById('menu-' + name);\n    if (openMenu === name) { closeMenus(); return; }\n    closeMenus();\n    drop.classList.add('open');\n    item.classList.add('active');\n    openMenu = name;\n  }\n  function closeMenus() {\n    document.querySelectorAll('.dropdown').forEach(d => d.classList.remove('open'));\n    document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));\n    openMenu = null;\n  }\n\n  // --- Find & Replace ---\n  function toggleFind() {\n    const bar = document.getElementById('findbar');\n    bar.classList.toggle('open');\n    const editorWrap = document.querySelector('.editor-wrap');\n    if (bar.classList.contains('open')) {\n      editorWrap.style.top = '108px';\n      document.getElementById('findInput').focus();\n      const sel = editor.value.substring(editor.selectionStart, editor.selectionEnd);\n      if (sel) document.getElementById('findInput').value = sel;\n      doFind();\n    } else {\n      editorWrap.style.top = '68px';\n    }\n    closeMenus();\n  }\n\n  function doFind() {\n    const term = document.getElementById('findInput').value;\n    const countEl = document.getElementById('matchCount');\n    findMatches = [];\n    findIndex = -1;\n    if (!term) { countEl.textContent = ''; return; }\n    let idx = 0;\n    const lower = editor.value.toLowerCase();\n    const search = term.toLowerCase();\n    while ((idx = lower.indexOf(search, idx)) !== -1) {\n      findMatches.push(idx);\n      idx += search.length;\n    }\n    countEl.textContent = findMatches.length ? `${findMatches.length} found` : 'No matches';\n    if (findMatches.length) { findIndex = 0; highlightMatch(); }\n  }\n\n  function highlightMatch() {\n    if (findIndex < 0 || findIndex >= findMatches.length) return;\n    const pos = findMatches[findIndex];\n    const term = document.getElementById('findInput').value;\n    editor.focus();\n    editor.setSelectionRange(pos, pos + term.length);\n    document.getElementById('matchCount').textContent = `${findIndex + 1}/${findMatches.length}`;\n  }\n\n  function findNext() {\n    if (!findMatches.length) return;\n    findIndex = (findIndex + 1) % findMatches.length;\n    highlightMatch();\n  }\n\n  function findPrev() {\n    if (!findMatches.length) return;\n    findIndex = (findIndex - 1 + findMatches.length) % findMatches.length;\n    highlightMatch();\n  }\n\n  function doReplace() {\n    if (findIndex < 0 || !findMatches.length) return;\n    const term = document.getElementById('findInput').value;\n    const repl = document.getElementById('replaceInput').value;\n    const pos = findMatches[findIndex];\n    editor.setSelectionRange(pos, pos + term.length);\n    document.execCommand('insertText', false, repl);\n    doFind();\n  }\n\n  function doReplaceAll() {\n    const term = document.getElementById('findInput').value;\n    const repl = document.getElementById('replaceInput').value;\n    if (!term) return;\n    const val = editor.value;\n    const re = new RegExp(term.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi');\n    editor.value = val.replace(re, repl);\n    doFind();\n    updateLineNumbers();\n    updateStatus();\n  }\n\n  // --- Settings ---\n  function changeFont() {\n    editor.style.fontFamily = document.getElementById('fontFamily').value;\n  }\n\n  function changeFontSize() {\n    const size = document.getElementById('fontSize').value;\n    editor.style.fontSize = size + 'px';\n    lineNums.style.fontSize = size + 'px';\n    updateLineNumbers();\n  }\n\n  function toggleLineNumbers() {\n    showLineNums = !showLineNums;\n    lineNums.style.display = showLineNums ? '' : 'none';\n  }\n\n  function toggleWordWrap() {\n    wordWrap = !wordWrap;\n    editor.style.whiteSpace = wordWrap ? 'pre-wrap' : 'pre';\n    editor.style.overflowX = wordWrap ? 'hidden' : 'auto';\n    closeMenus();\n  }\n\n  // --- Events ---\n  editor.addEventListener('input', () => { updateLineNumbers(); updateStatus(); });\n  editor.addEventListener('click', updateStatus);\n  editor.addEventListener('keyup', updateStatus);\n  editor.addEventListener('scroll', () => { lineNums.scrollTop = editor.scrollTop; });\n\n  // Tab key inserts tab character\n  editor.addEventListener('keydown', (e) => {\n    if (e.key === 'Tab') {\n      e.preventDefault();\n      document.execCommand('insertText', false, '    ');\n    }\n  });\n\n  // Keyboard shortcuts\n  document.addEventListener('keydown', (e) => {\n    if (e.ctrlKey && e.key === 'n') { e.preventDefault(); newFile(); }\n    if (e.ctrlKey && e.key === 's' && e.shiftKey) { e.preventDefault(); saveAs(); }\n    else if (e.ctrlKey && e.key === 's') { e.preventDefault(); saveFile(); }\n    if (e.ctrlKey && e.key === 'o') { e.preventDefault(); loadFile(); }\n    if (e.ctrlKey && e.key === 'f') { e.preventDefault(); toggleFind(); }\n    if (e.key === 'Escape') { document.getElementById('findbar').classList.remove('open'); closeMenus(); }\n    if (e.ctrlKey && e.key === 'g') {\n      e.preventDefault();\n      const line = parseInt(prompt('Go to line:'), 10);\n      if (!isNaN(line)) {\n        const lines = editor.value.split('\\n');\n        let pos = 0;\n        for (let i = 0; i < Math.min(line - 1, lines.length); i++) pos += lines[i].length + 1;\n        editor.setSelectionRange(pos, pos);\n        editor.focus();\n      }\n    }\n  });\n\n  // Close menus on click outside\n  document.addEventListener('click', (e) => {\n    if (!e.target.closest('.menu-item')) closeMenus();\n  });\n\n  // Auto-load last file\n  (async () => {\n    try {\n      const lastFile = await LLMOS.storage.get('notepad_filename');\n      if (lastFile) {\n        const content = await LLMOS.storage.get('notepad_file_' + lastFile);\n        if (content !== null && content !== undefined) {\n          editor.value = content;\n          savedContent = content;\n          fileName = lastFile;\n          fileLabelEl.textContent = fileName;\n        }\n      }\n    } catch (e) { /* ignore */ }\n    updateLineNumbers();\n    updateStatus();\n  })();\n</script>\n</body>\n</html>\n",
  "dockerfile": null,
  "capabilities": [
    "ui:window",
    "storage:local",
    "clipboard:rw"
  ],
  "model": "claude-opus-4-6",
  "provider": "community",
  "launches": 0,
  "createdAt": 1771451572812,
  "tags": [
    "productivity",
    "editor",
    "utility"
  ]
}